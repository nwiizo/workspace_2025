# CLAUDE.md - ブログプロジェクト専用ガイド

このファイルは、Claude Codeがこのブログプロジェクトで作業する際の指針を提供します。

## プロジェクト概要

**目的**: 高品質なブログ記事の執筆・レビュー・公開
**記事タイプ**:
- コラム記事（エッセイ・思考系）
- 技術ブログ（チュートリアル・解説系）

---

## ブログレビューシステム

このプロジェクトには、`.claude/commands/`配下に**包括的なブログレビューシステム**が実装されています。

### 🚀 最重要コマンド

```
/full-review [ファイル名] [記事タイプ]
```

**これは必ず使用してください**。初稿完成後、このコマンド一つですべての品質チェックが完了します。

**実行例**:
```
/full-review blog.md コラム
/full-review tutorial.md 技術
```

**実行内容**（自動→承認→修正の3段階）:

**Phase 1: 自動レビュー（8-15分）**
1. Textlint診断（エラー検出のみ、修正は保留）
2. 初学者フィードバック（一般読者視点）
3. 総合品質レビュー（6つの評価軸）
4. 記事タイプ別レビュー（コラム/技術）
5. 統合改善提案レポート生成

**Phase 2: ユーザー承認（ユーザー操作）** ⭐重要
```
📋 レビューが完了しました。

🔴 最優先改善: XX件
🟡 重要改善: XX件
🟢 任意改善: XX件

【ユーザーの選択肢】
1️⃣ 最優先のみ自動修正する（推奨）
2️⃣ 最優先+重要を自動修正する
3️⃣ すべて自動修正する
4️⃣ 詳細レポートを見てから決める
5️⃣ 手動で修正する（自動修正しない）

どれを選択しますか？（1-5）
```

**Phase 3: 承認された修正の適用（1-10分）**
- ユーザーが選択した範囲の修正のみ適用
- 差分確認と最終確認

**実行時間**: 約15-40分（レビュー8-15分 + 承認5-10分 + 修正1-10分）

---

## レビューシステムの3フェーズ構造

### Phase 1: 深く考える（Think）

記事を書く前に、思考を深めるフェーズ。

**コマンド**:
- `/deep-thinking-prompt "テーマ"` - 7つの問いかけで思考を深める
- `/critical-perspective "テーマ"` - 批評的視点の導入

**いつ使うか**: 記事のテーマは決まったが、何を書くか明確でない時

---

### Phase 2: 構造化して書く（Write）

思考を整理し、読者に届く形にデザインするフェーズ。

**コマンド**:
- `/structural-thinking "テーマ"` - 記事の構造を設計
- 初稿を書く
- `/textlint-polish draft.md` - 自動校正（AIっぽい表現除去）
- `/title-workshop draft.md` - タイトル案を25個生成

**いつ使うか**: 書く内容は決まったが、どう構成すべきか分からない時

---

### Phase 3: 多角的にレビューする（Review）

**最重要**: `/full-review`を使用してください（個別コマンドは不要）

**個別実行が必要な場合のみ**:

**Tier 1（必須）⭐⭐⭐**
- `/beginner-feedback` - 一般読者の素朴な疑問
- `/blog-quality-review` - 総合品質評価

**Tier 2（推奨）⭐⭐**
- `/narrative-empathy-review` - 物語性・共感性（コラム向け）
- `/redundancy-check` - 冗長性チェック（技術向け）
- `/punchline-review` - キーメッセージ強化

**Tier 3（オプション）⭐**
- `/ai-humanity-check` - AI検出

---

## 推奨ワークフロー

### ✨ 最も推奨される方法

```
1. /deep-thinking-prompt "テーマ"
   ↓ 数日考える

2. /structural-thinking "テーマ"
   ↓ 構造に基づいて初稿を書く

3. /full-review draft.md コラム（または技術）
   ↓ 8-15分待つ

4. 統合レポートの「最優先改善」を修正
   ↓

5. /title-workshop draft.md
   ↓ タイトル決定

6. 公開！
```

**合計所要時間**: 思考時間を除いて約30-60分

---

### ⚡ 簡易版（サクッと書く場合）

```
1. 初稿を書く
2. /full-review draft.md
3. 最優先改善のみ修正
4. 公開！
```

**合計所要時間**: 約20-30分

---

## Textlint設定

### 設定ファイル

- `.textlintrc.json` - textlintメイン設定
- `prh.yml` - 用語統一・表現修正ルール

### 検出される問題

**AIっぽい表現**（60+パターン）:
- 冗長な指示詞: 「このような」→「この」
- 過度な強調: 「非常に重要」→「重要」
- テンプレート表現: 「いかがでしたでしょうか」→削除
- 不自然な丁寧語: 「させていただきます」→「します」

**比喩・詩的表現**:
- 「羅針盤」→「指針」
- 「扉を開く」→「開始」
- 「壁にぶつかる」→「困難」

**冗長性**:
- 「することができる」→「できる」
- 「であると言える」→「である」

### 手動実行

```bash
# エラーチェックのみ
npx textlint blog.md

# 自動修正を適用
npx textlint --fix blog.md
```

**注意**: `/full-review`は自動で`--fix`を実行するため、通常は手動実行不要です。

---

## 12人のエキスパートチーム

### 🚀 統括マネージャー
**鈴木麻里**（42歳・編集長）- 全レビュー統括・総合判定

### Phase 1: 思考支援
1. **田中慎也**（43歳・哲学者）- 深い思考のための問いかけ
2. **村上聡**（47歳・社会学者）- 批評的視点の導入

### Phase 2: 執筆支援
3. **佐藤美咲**（40歳・情報アーキテクト）- 構造設計
4. **高橋瞳**（35歳・コピーライター）- タイトル生成
5. **岡田翔太**（35歳・文章校正スペシャリスト）- Textlint校正

### Phase 3: レビュー
6. **佐々木ゆい**（28歳・一般読者）- 素朴な視点（Tier 1）
7. **山本理恵**（38歳・テクニカルライター）- 総合品質（Tier 1）
8. **中村鋭一**（45歳・元新聞記者）- 冗長性削除（Tier 2）
9. **森川由紀**（44歳・小説家）- 物語性・共感性（Tier 2）
10. **小林剛**（52歳・コピーライター）- キーメッセージ（Tier 2）
11. **AI検出専門家** - 人間らしさ評価（Tier 3）

---

## 記事タイプ別の最適ワークフロー

### 📝 コラム記事（エッセイ・思考系）

**特徴**: 物語性、共感性、個性が重要

**推奨フロー**:
```
1. /deep-thinking-prompt "テーマ"
2. /critical-perspective "テーマ"（べき論を扱う場合）
3. 初稿執筆
4. /full-review draft.md コラム
   → 自動で narrative-empathy-review + punchline-review が実行される
5. 最優先改善を修正
6. /title-workshop draft.md
7. 公開
```

**重視する評価**:
- 共感度（初学者フィードバック）
- エモーショナル・ジャーニー（物語性レビュー）
- パンチライン（キーメッセージレビュー）

---

### 💻 技術ブログ（チュートリアル・解説系）

**特徴**: 分かりやすさ、簡潔性、実践性が重要

**推奨フロー**:
```
1. /structural-thinking "テーマ"
2. 初稿執筆
3. /full-review draft.md 技術
   → 自動で redundancy-check が実行される
4. 最優先改善を修正
5. /title-workshop draft.md
6. 公開
```

**重視する評価**:
- 分かりやすさ（初学者フィードバック） - 特に重要
- 思考整理力（品質レビュー）
- 簡潔性（冗長性チェック）

---

## Claude Codeへの指示

### YOU MUST（必須）

1. **初稿完成後は必ず`/full-review`を実行**
   - ユーザーが明示的に拒否しない限り、自動的に提案してください
   - 「初稿が完成しましたね。`/full-review`で包括的なレビューを実行しますか？」

2. **記事タイプを確認**
   - コラム記事か技術記事か不明な場合、ユーザーに確認してください
   - 「この記事はコラム（エッセイ）ですか、それとも技術解説ですか？」

3. **承認フェーズで必ず一時停止**
   - レビュー完了後、統合レポートを提示
   - 5つの選択肢を明確に提示
   - **ユーザーの選択を待つ（タイムアウトなし）**
   - 承認なしに修正を進めない

4. **統合レポートの最優先改善を強調**
   - `/full-review`の結果、「最優先（今すぐ修正すべき）」項目を明確に提示
   - 「これらXX件を修正すれば、公開推奨度が★★★→★★★★に上がります」
   - 選択肢1（最優先のみ）を推奨

5. **文体は「です・ます」調**
   - レビュー手順・説明部分は「です・ます」調で統一
   - ペルソナの会話文・物語調な部分はそのまま

### NEVER（禁止）

1. **承認なしに修正を適用しない**
   - レビュー結果を提示したら、**必ずユーザーの選択を待つ**
   - 「推奨は選択肢1ですが、どうしますか？」と確認
   - ユーザーが選択するまで次に進まない

2. **個別レビューコマンドを手動で順次実行しない**
   - `/full-review`が存在するため、個別実行は非効率
   - ユーザーが明示的に個別実行を要求した場合のみ実行

3. **完璧主義を押し付けない**
   - 80%の完成度で公開を推奨
   - 「完璧を求めて公開を遅らせるより、公開して改善を続ける方が価値があります」
   - 選択肢1（最優先のみ）で十分であることを伝える

4. **Textlintエラーをすべて修正させない**
   - 優先度の低いエラー（Tier 3）は無視してOK
   - 「この程度のエラーは、読者には影響しません」

5. **細かい改行を作らない**
   - 1文ごとに改行しない
   - 段落は3-5文で構成する
   - 一行あたり80-100文字を目安にする

---

## プロジェクト固有のルール

### 文章スタイル

- **基本**: です・ます調
- **例外**: ペルソナの会話文、引用、コードコメント

### 改行ルール（重要）⭐

**NEVER: 細かい改行を作らない**

❌ **悪い例**（1文ごとに改行）:
```markdown
私は本を読むのが好きです。

朝、コーヒーを淹れて、ソファに座って、ページを開く。

その時間が好きです。

物語の中に入り込んで、登場人物の人生を追いかける。
```

✅ **良い例**（段落は3-5文で構成）:
```markdown
私は本を読むのが好きです。朝、コーヒーを淹れて、ソファに座って、ページを開く。その時間が好きです。物語の中に入り込んで、登場人物の人生を追いかける。著者の思考を辿る。知らない世界を覗き見る。ただ、それが楽しいんです。

でも、誰かに「最近、何か読んだ？」と聞かれて、タイトルを答えると、必ず次の質問が来ます。「へえ、面白かった？ 何か学びはあった？」あるいは、こんな質問が来ます。「その本、どういうジャンル？ 自己啓発系？」
```

**ルール**:
- **1つの段落は3-5文で構成する**
- **一行あたり80-100文字を目安にする**
- **段落と段落の間は1行空ける（2行以上空けない）**
- **見出しの前後のみ、1行空ける**

**例外**:
- 箇条書き・リストは1項目ごとに改行OK
- コードブロックは改行ルールの対象外
- 会話文・引用は1文ごとに改行OK

---

### AIっぽさの排除

このプロジェクトでは、AIっぽい表現を徹底的に排除します:

**NGワード**:
- 「このような」「そのような」
- 「非常に〜」の多用
- 「いかがでしたでしょうか」
- 「お役に立てれば幸いです」
- 「させていただきます」

**OKな表現**:
- 「この」「その」（簡潔に）
- 適度な強調のみ
- 自然な締め
- 「役立ちます」
- 「します」

### 記事の長さ

- **推奨**: 2000-3000字
- **最大**: 5000字（それ以上は分割を検討）
- **最小**: 1000字（それ以下は内容不足）

---

## トラブルシューティング

### Q: `/full-review`が長すぎる場合

**A**: 軽量版を使用
```
/full-review blog.md --tier1-only
```
Tier 1（必須）レビューのみ、約5分で完了

---

### Q: Textlintエラーが多すぎる

**A**: 段階的に修正
1. まず`--fix`で自動修正
2. 優先度：高のみ手動修正
3. 優先度：中・低は無視してOK

---

### Q: どのレビュアーの意見を優先すべきか

**A**: 以下の優先順位
1. **初学者フィードバック**（佐々木ゆい）- 一般読者に届くか
2. **総合品質レビュー**（山本理恵）- 全体的な品質
3. 記事タイプ別レビュー
4. その他

**理由**: 読者に届かなければ、どんなに高品質でも無意味

---

## パフォーマンス最適化

### 並列実行（今後の改善予定）

現在、`/full-review`は順次実行ですが、将来的に並列実行を検討:
- Textlint（30秒）
- 初学者フィードバック（3分）} 並列実行で5分に短縮
- 品質レビュー（5分）

---

## バージョン履歴

- **v1.0** (2025-01-XX): 初回リリース
  - 12人のエキスパートチーム構築
  - `/full-review`全自動コマンド実装
  - Textlint設定（60+AIパターン検出）
  - 改行ルール追加（段落は3-5文で構成）

---

## 関連ドキュメント

- `README.md` - プロジェクト概要・セットアップ
- `.claude/commands/README.md` - コマンド詳細ドキュメント（予定）
- `.textlintrc.json` - Textlint設定
- `prh.yml` - 用語統一ルール

---

## フィードバック

このレビューシステムへの改善提案は歓迎します。
新しいレビュー観点、エキスパートの追加、ワークフローの改善など、どんどん提案してください。

---

**重要**: このプロジェクトの目標は、「完璧な記事」ではなく「読者に価値を届ける記事」を効率的に作成することです。
